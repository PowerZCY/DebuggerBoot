
多线程学习:

final String targetUrl = "http://192.168.2.63:8840/customeraccess/common/listMarriageDict";
        final Map<String, Object> params = new HashMap<String, Object>(4, 0.5f){
            {
                put("id", 200);
                put("name", "测试");
                put("null", null);
            }
        };
        ThreadPoolTaskExecutor poolTaskExecutor = new ThreadPoolTaskExecutor();
        poolTaskExecutor.setQueueCapacity(10000);
        poolTaskExecutor.setCorePoolSize(50);
        poolTaskExecutor.setMaxPoolSize(50);
        poolTaskExecutor.setKeepAliveSeconds(5000);
        poolTaskExecutor.initialize();
        final CountDownLatch countDownLatch = new CountDownLatch(100);
        for (int i = 0; i < 100; i++) {
            poolTaskExecutor.submit(new Runnable() {
                @Override
                public void run() {
                    String resultString = postBody(targetUrl, params, null);
                    if ("bynz_error".equals(resultString)) {
                        logger.error("线程: {} 调用失败!!", Thread.currentThread().getName());
                    }
                    countDownLatch.countDown();
                }
            });
        }
        countDownLatch.await();
        poolTaskExecutor.shutdown();
        logger.info("运行结束!!!!");