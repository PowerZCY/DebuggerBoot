---

设计模式: 描述/优缺点 --> UML类图
数据结构: Java的ArrayList/LinkedList源码, HashMap/LinkedHashMap/TreeMap, ConcurrentHashMap源码(辅助)
算法: 10大排序算法复杂度与特性 应用场景, 哈希算法
IO/NIO: 资料
线程: 基础概念/线程的状态状态-->资料
框架: Spring AOP, 循环依赖, bean加载, 多线程解决ThreadLocalMap, 事务在一个数据库连接上
数据库优化:
Redis使用: 事件循环
kafka: 消息机制



---







ArrayList数组列表,初始容量10, 扩容 JDK1.7 是1.5倍向下取整, JDK1.8是0.5倍向下取整, 根据索引访问速度快

Linked链表数组双端队列, 增删速度快, 查找慢,(需要遍历), 根据索引查找,判断索引是否存在, 索引小于Size/2, 从头遍历, 大于等于Size/2则从尾遍历

#### **HashMap**

1.初始化准备存储空间；
2.计算key的hash值(整数)，hash算法-均匀分布
3.由2的结果，即hash(key)，取模计算索引i
    (HashSet元素无序的原因)
4.判断HashTable[i]的元素类型，插入
    ①覆盖插入(HashSet元素互异的原因)
    ②链表插入
    ③二叉树插入
    ④链表树化后插入
5.HashMap的大小自增
6.判断是否要扩容

##### HashMap的三大数值概念:

容量: HashMap最多能容纳的元素个数, 它与HashTable的length相等, 因为hash(key)寻索引位置

实际元素个数: size

HashMap树化使用红黑树,红黑树的优点: 查找/插入删除的算法复杂度都是O(log N)

**MIN_TREEIFY_CAPACITY(64):** 进行树形化, HashMap的容量必须达到64及以上, 容量小于等于32则使用扩容 

TREEIFY_THRESHOLD(8): z增加元素时, HashMAp容量>=64后, HashTable位置上的链表Node节点元素总数达到8及以上, 就将单链表Node<K,V>[] 转化为红黑树TreeNode<K, V>
**UNTREEIFY_THRESHOLD(6):**  移除元素时, 当HashMap中HashTable位置上的红黑树TreeNode节点元素总数达到6及以下, 就将红黑树节点TreeNode<K, V>转换为单链表节点Node<K, V>

#### LinkedHashMap

继承HashMap, 同时额外维护了双链表, 访问该双链表保证元素的顺序, 可设置根据元素访问频率, 移除最近最少访问的元素(LRU)

1. LinkedHashMap 拥有与 HashMap 相同的底层哈希表结构，即数组 + 单链表 + 红黑树，也拥有相同的扩容机制。
2. LinkedHashMap 相比 HashMap 的拉链式存储结构，内部额外通过 Entry 维护了一个双向链表。
3. HashMap 元素的遍历顺序不一定与元素的插入顺序相同，而 LinkedHashMap 则通过遍历双向链表来获取元素，所以遍历顺序在一定条件下等于插入顺序。
4. LinkedHashMap 可以通过构造参数 **accessOrder 来指定双向链表是否在元素被访问后改变其在双向链表中的位置**。

LinkedHashMap 可以通过构造参数 accessOrder 来指定双向链表是否在元素被访问后改变其在双向链表中的位置。

- 每次添加新节点的时候实际上是调用 newNode 方法生成了一个新的节点，LinkedHashMap 复写了该方法，双向链表的操作一定在**linkNodeLast方法中实现**：将新的节点与之前双向链表的最后一个节点（tail）建立关系，彼此拥有指向对方的引用，这么做就能确保了双向链表的元素之间的关系即为添加元素的顺序。
- LinkedHashMap 删除节点的操作，对于 afterNodeRemoval（node） HashMap 中是空实现，而该方法，正是 LinkedHashMap 删除对应节点在双向链表中的关系的操作
- LinkedHashMap 与 HashMap 添加和删除元素的不同，可以看出除了维护 Hash表中元素的关系以外，LinkedHashMap 还在添加和删除元素的时候维护着一个双向链表。
- 该方法随 LinkedHashMap 构造参数初始化，accessOrder 默认值为 false。--LinkedHashMap 通过afterNodeAccess 这个**后置操作**，可以在 accessOrde = true 的时候，使双向链表维护哈希表中元素的访问顺序。
- LinkedHashMap 的迭代器，由于有双向链表的存在，它相比 HashMap 遍历节点的方式更为高效--直接指向了当前节点的 after 后驱节点

ConcurrentHashMap

JDK1.8初始化Table

```
private final Node<K, V>[] initTable() {
    Node<K, V>[] tab;
    int sc;
    While ((tab = this.table) == null || this.table.length == 0) {
        if ((sc = this.sizeCtl) < 0) {
            Thread.yeild();
        } else if (U.compareAndSwapInt(this, this.SIZECTL, sc, -1) {
            try {
                 if ((tab = table) == null || tab.length == 0) {
                     int n = (sc > 0) ? sc : DEFAULT_CAPACITY;
                     @SuppressWarnings("unchecked")
                     Node<K, V>[] nt = (Node<K, V>[]) new Node<?, ?>[n];
                     this.table = tab = nt;
                     sc = n - (n >>> 2);
                 }
            } finally {
                sizeCtl = sc;
            }
            break;
        }
    }
    return tab;
}
```

**容量计算**

$$
n - n >>> 2 = 2^x - 2^x / 2^2 = 3/4 * 2^x
$$

那么相对于原始容量

$$
(3/4 * 2^x) div 2^x = 3/4 = 0.75
$$

```java
private final Node<K,V>[] initTable() {
        Node<K,V>[] tab; int sc;
        // 每次循环都判断tab是否已经初始化

        while ((tab = table) == null || tab.length == 0) {
            if ((sc = sizeCtl) < 0)
                Thread.yield(); // 自旋: 自己执行空循环,避免被挂起, 线程切换的资源小号

            else if (U.compareAndSwapInt(this, SIZECTL, sc, -1)) {
                try {
                // 再次校验tab是否已经初始化

                    if ((tab = table) == null || tab.length == 0) {
                        int n = (sc > 0) ? sc : DEFAULT_CAPACITY;
                        @SuppressWarnings("unchecked")
                        Node<K,V>[] nt = (Node<K,V>[])new Node<?,?>[n];
                        table = tab = nt;
                        sc = n - (n >>> 2);
                    }
                } finally {
                    sizeCtl = sc;
                }
                break;
            }
        }
        return tab;
    }
```

求职简历不开窍, 认知升级竟发飙

北京西站

认知升级, 行动中思考

笑来做事用金钱计算, 简媜荒野之鹰把国文学习与历史地理联系起来,兴趣使然

金钱与兴趣两个分支,最终汇聚

制作简历违背了"尽快开始这个过程"

"尽快结束这个过程"

不自信原因是陷入在细节中, 认知升级需要一次次迭代,优化

---

### 今日头条-Java研发后端工程师(财经业务部)

- #### **职位描述**

1. 负责今日头条支付清算结算后台系统设计和开发

2. 负责优化今日头条清算结算系统核心业务流程,提升业务效率,降低成本

3. 研究分析业内主流清算结算系统的产品与技术实现,优化实现方案 ,不断改进产品功能

- #### **职位要求**(经验3-5年)

1. 计算机及其相关专业,本科及以上学历

2. 2年及其以上Java服务端软件开发经验, 良好的Java语言基础,熟悉Spring/MyBatis框架和类库

3. 熟悉MySQL数据库的使用及SQL优化,有大规模高并发环境下MySQL优化经验优先

4. 有大型商业平台Web系统研发经验优先, 有高性能,高可用性系统设计,研发,优化经验优先

5. 有Redis, ZooKeeper/Zuul, SpringBoot/Cloud, Apache Thrift等经验优先

6. 有支付系统研发经验,熟悉互联网支付业务流程优先

---

### 今日头条-Java研发后端工程师(财经业务部)

- #### **职位描述**

1. 负责字节跳动金融业务的后台业务研发

2. 负责在线大流量高并发系统设计

3. 主要实现语言为Golang/Java

- #### **职位要求**(经验3-5年)

1. 本科以上学历,计算机/通信等相关专业

2. 有扎实的编程能力,有优秀的设计和代码品味

3. 深刻理解计算机原理, 有良好的数据结构和算法基础

4. 熟悉MySQL, NoSQL, 消息队列等常用WEB组件

5. 有高并发服务设计和实现经验优先, 有互联网金融相关业务开发经验优先

6. 有较好的产品意识优先

7. 积极乐观,责任心强,工作认真细致,有良好的团队沟通和协作能力,能带领团队积极推进项目

8. 热爱编程,有较强的学习能力,有强烈的求知欲,好奇心和进取心,能及时关注和学习业界最新技术

---

### 今日头条-Java工程师(丹棱街1号互联网金融中心)

- #### **职位描述**

1. 负责承接字节跳动广告变现业务的智能语音中心研发,致力于建设整合语音识别,微信等多媒体接入及AI话术等功能的新一代平台

- #### **职位要求**

1. 本科及以上学历,计算机相关专业,基础知识扎实

2. 聪明, 学习能力强, 有独立解决问题的能力

3. 三年以上系统软件架构经验, 精通Python/Go/Java/C++任一语言,有完整软件项目开发,迭代和实施经验

4. 有良好的沟通能力和业务理解能力

- **~~招聘条件解读~~**

1. 计算机相关专业, 基础知识扎实. 职位描述中提到语音识别, 我的电子通信工程是专业相关的.基础知识扎实,指的是计算机的数据结构与算法相关的问题.

2. 栈,队列,链表,树,图... 后面精通Python/Go/Java/C++任一语言也能说明若考察数据结构, 就是这些基本的数据结构.

   10种排序算法的算法复杂度,重要几种手写出来.

3. 聪明,学习能力强, 那我在面试中要抓住问题重点, 对于知道的问题理清表达,对于不知道的说出解决思路.

4. 独立解决问题的能力, 进了部门后基本没人带...即使有人带也需要自己主动询问,寻求点拨,这无可厚非,自己做好准备就行.

5. 三年以上经验,完整软件项目开发,迭代和实施经验,这个我满足的

6. 良好的沟通能力, 面试时表现得谦虚善谈一点, 把主要观点简明表达出来;

7. 良好的业务理解能力, 通过描述我的农业供应链金融项目经验, 项目中的主要职责,解决的主要问题,做的优化工作, bingo.

---

## 我的技能树,项目池

- #### **技能树**

1. Java基础

2. Java框架

3. Java高级

4. MySQL数据库

5. 中间件

6. 高效开发工具

- #### **项目池**

    项目背景: 农业供应链金融平台, 通过该平台为九江银行的授信放款提供服务通道, 同时响应国家的扶贫政策

    项目框架: SpringBoot + MyBatis + MySQL + CAT监控 + Redis缓存及防重 + Kafka异步处理 + Swagger接口文档

1. 百农得悦农资服务平台

   业务模式: 农资店有商品不能承担太大的赊销风险, 农户有购买需求但无现金, 九江银行能提供贷款, 于是农户与银行签署授信贷款合同, 农资店与银行提供担保合同, 农户可凭借信贷直接购买商品, 农资店按期与九江银行对账结算, 农户获得农资经营农业获得好收成,到期还款, 农资店商品流通快, 利润增加, 银行收取客户的贷款利息, 公司通过项目收取平台服务费, 皆有赚头.

   销售端项目框架搭建及核心代码研发

   微信公众号环境搭建及后台接口开发

   两次数据迁移

2. 智慧云产业链平台V1.0

   合同中心微服务核心代码开发

   金信签小程序环境搭建及后台开发

   客户准入微服务核心代码开发
